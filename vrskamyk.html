<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vrškamýk</title>
    <link rel="shortcut icon" href="./media/logo.svg" type="image/x-icon">
    <link rel="stylesheet" href="./css/microsite_style.css">
</head>

<body>
    <header>
        <img src="./media/logo.svg" alt="">
        <nav>
            <a href="">Lokality</a>
            <a href="">Příšery</a>
            <a href="">Galerie</a>
            <a href="">Kontakty</a>
        </nav>
    </header>
    <div class="main">
        <div class="infobar" id="infobar">
            <h1>Vrškamýk</h1>
            <h2>O hradu</h2>
            <p>Vrškamýk (též Kamýk nad Vltavou či nesprávně Hunec) je zřícenina hradu nacházející se jeden kilometr
                západně od obce Kamýk nad Vltavou v okrese Příbram. Hrad stál na hřebenovitém výběžku v nadmořské výšce
                345 metrů. Od roku 1965 je chráněn jako kulturní památka.<br>
                Zakladatelem hradu byl v první polovině třináctého století král Václav I., ale stavbu dokončil až
                Přemysl Otakar II., který zde vydal tři listiny. Zázemí hradu, který byl správním centrem kraje, tvořila
                soustava manství, ale po založení Karlštejna převedl Karel IV. zdejší manství ke svému novému hradu.
                Archeologické nálezy získané po roce 2000 umožnily datovat zánik hradu nejpozději v době těsně po roce
                1306. Příčinou brzkého opuštění výstavného hradu byly statické poruchy obvodových zdí zadního hradu.
                Jako pustý byl Kamýk zmíněn roku 1569.</p>
            <h2>Bájná bytost: Bílý rytíř</h2>
            <p>Straší krutý rytíř Hunec, který velmi špatně nakládal se svými poddanými. Jednoho dne
                se vydal na projížďku do okolí, v lese byl zabit a jeho duch se zde v noci zjevuje jako
                tajemný rytíř v bílém brnění, který bloudí zříceninami hradu.<br>
                Lidé, kteří se k hradu vydají po setmění, prý mohou spatřit bledé světlo pohybující se
                mezi ruinami nebo slyšet ozvěny rytířských kroků.</p>
        </div>
        <div id="fullscreenbutton" class="fullscreenbutton button" onclick="toggleFullscreen()"><img
                src="./media/fullscreen.svg" alt="">
        </div>
        <div id="nextbutton" class="nextbutton button" onclick="toggleView()"><img src="./media/arrowright.svg" alt="">
        </div>
        <div class="canvascontainer" id="canvascontainer">
            <canvas class="container" id="threecontainer"></canvas>
            <canvas class="container" id="imagecontainer"></canvas>
        </div>
    </div>
    <script>
        const canvascontainer = document.getElementById('canvascontainer')
        const threecontainer = document.getElementById('threecontainer');
        const imagecontainer = document.getElementById('imagecontainer');
        const infobar = document.getElementById('infobar');
        const nextbutton = document.getElementById('nextbutton');
        const fullscreenbutton = document.getElementById('fullscreenbutton');

        function toggleFullscreen() {
            requestAnimationFrame(() => {
                canvascontainer.classList.toggle('fullscreen');
                infobar.classList.toggle('hideinfobar');
                nextbutton.classList.toggle('hidebutton');
            })
        }

        function toggleView() {
            requestAnimationFrame(() => {
                threecontainer.classList.toggle('move');
                imagecontainer.classList.toggle('move');
                fullscreenbutton.classList.toggle('hidebutton')
                nextbutton.classList.toggle('flip');
            })
        }
    </script>
    <script type="importmap">
        {
            "imports": {
              "three": "https://cdn.jsdelivr.net/npm/three@0.174.0/build/three.module.js",
              "three/webgpu": "https://cdn.jsdelivr.net/npm/three@0.174.0/build/three.webgpu.js",
              "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.174.0/examples/jsm/"
            }
          }
      
    </script>
    <script type="module">
        import { Three } from "./js/threejs/main.js";

        const modelName = "vrskamyk";
        const three = new Three(threecontainer, modelName);
        await three.init();
        three.render();
        three.start();
    </script>
    <script type="module">
        import { ImageRenderer } from "./js/imageRenderer/main.js";

        const imageName = "splhac";
        const imageRenderer = new ImageRenderer(imagecontainer, imageName);
    </script>
</body>

</html>